<div class="la-dn-wrapper" data-token="DRWRCRT">  
   {%- capture present-icon -%}
    <svg class="la-dn-cart-gift-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M18 12V19H6V12" stroke="black" stroke-linecap="round" stroke-linejoin="round"/>
      <path d="M19 8H5V12H19V8Z" stroke="black" stroke-linecap="round" stroke-linejoin="round"/>
      <path d="M12 19V8" stroke="black" stroke-linecap="round" stroke-linejoin="round"/>
      <path d="M12 8H8.78571C8.31211 8 7.85791 7.84196 7.52302 7.56066C7.18814 7.27936 7 6.89782 7 6.5C7 6.10218 7.18814 5.72064 7.52302 5.43934C7.85791 5.15804 8.31211 5 8.78571 5C11.2857 5 12 8 12 8Z" stroke="black" stroke-linecap="round" stroke-linejoin="round"/>
      <path d="M12 8H15.2143C15.6879 8 16.1421 7.84196 16.477 7.56066C16.8119 7.27936 17 6.89782 17 6.5C17 6.10218 16.8119 5.72064 16.477 5.43934C16.1421 5.15804 15.6879 5 15.2143 5C12.7143 5 12 8 12 8Z" stroke="black" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
  {%- endcapture -%}
  {%- capture shipping-icon -%}
    <svg class="la-dn-cart-gift-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M8 13L8 8.79934C8.00028 8.51871 8.07229 8.24308 8.2088 8.00011C8.34532 7.75714 8.54154 7.55538 8.77778 7.41506L14.2222 4.2144C14.4587 4.07395 14.7269 4 15 4C15.2731 4 15.5413 4.07395 15.7778 4.2144L21.2222 7.41506C21.4585 7.55538 21.6547 7.75714 21.7912 8.00011C21.9277 8.24308 21.9997 8.51871 22 8.79934V15.2007C21.9997 15.4813 21.9277 15.7569 21.7912 15.9999C21.6547 16.2429 21.4585 16.4446 21.2222 16.5849L15.7778 19.7856C15.5413 19.9261 15.2731 20 15 20" stroke="black" stroke-linecap="round" stroke-linejoin="round"/>
      <path d="M15 8L18.5 6" stroke="black" stroke-linecap="round" stroke-linejoin="round"/>
      <path d="M8.33255 8.19003L15 12L21.5 8.28572" stroke="black" stroke-linecap="round" stroke-linejoin="round"/>
      <path d="M15 20V12" stroke="black" stroke-linecap="round" stroke-linejoin="round"/>
      <path d="M6 16H12" stroke="black" stroke-linecap="round" stroke-linejoin="round"/>
      <path d="M9 19L12 19" stroke="black" stroke-linecap="round" stroke-linejoin="round"/>
      <path d="M18.5 18V14" stroke="black" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
  {%- endcapture -%}
  {%- capture discount-icon -%}
    <svg class="la-dn-cart-gift-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M10.5388 4.56339C11.3293 3.71758 12.6707 3.71758 13.4612 4.56339L13.9626 5.0999C14.3569 5.52176 14.9142 5.75262 15.4913 5.73312L16.2253 5.70832C17.3823 5.66921 18.3308 6.61767 18.2917 7.77473L18.2669 8.50867C18.2474 9.08576 18.4782 9.64312 18.9001 10.0374L19.4366 10.5388C20.2824 11.3293 20.2824 12.6707 19.4366 13.4612L18.9001 13.9626C18.4782 14.3569 18.2474 14.9142 18.2669 15.4913L18.2917 16.2253C18.3308 17.3823 17.3823 18.3308 16.2253 18.2917L15.4913 18.2669C14.9142 18.2474 14.3569 18.4782 13.9626 18.9001L13.4612 19.4366C12.6707 20.2824 11.3293 20.2824 10.5388 19.4366L10.0374 18.9001C9.64312 18.4782 9.08576 18.2474 8.50867 18.2669L7.77473 18.2917C6.61767 18.3308 5.66921 17.3823 5.70832 16.2253L5.73312 15.4913C5.75262 14.9142 5.52176 14.3569 5.0999 13.9626L4.56339 13.4612C3.71758 12.6707 3.71758 11.3293 4.56339 10.5388L5.0999 10.0374C5.52176 9.64312 5.75262 9.08576 5.73312 8.50867L5.70832 7.77473C5.66921 6.61767 6.61767 5.66921 7.77473 5.70832L8.50867 5.73312C9.08576 5.75262 9.64312 5.52176 10.0374 5.0999L10.5388 4.56339Z" stroke="black"/>
      <path d="M9 14L15 10" stroke="black" stroke-linecap="round" stroke-linejoin="round"/>
      <circle cx="14" cy="15" r="1.5" stroke="black"/>
      <circle cx="10" cy="9" r="1.5" stroke="black"/>
    </svg>
  {%- endcapture -%}
  {%- capture tick-icon -%}
    <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">
      <circle class="tick-icon-circle" cx="6" cy="6" r="6" fill="black"/>
      <path d="M3 6.4L4.72727 8L9 4" stroke="white" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
  {%- endcapture -%}
  {%- capture trash-icon -%}
    <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path fill-rule="evenodd" clip-rule="evenodd" d="M4.63962 3.5L2 3.5C1.72386 3.5 1.5 3.72386 1.5 4C1.5 4.27614 1.72386 4.5 2 4.5H2.55248L3.51533 13.1656C3.59973 13.9253 4.24183 14.5 5.00615 14.5H10.9938C11.7582 14.5 12.4003 13.9253 12.4847 13.1656L13.4475 4.5H14C14.2761 4.5 14.5 4.27614 14.5 4C14.5 3.72386 14.2761 3.5 14 3.5L11.3604 3.5L11.0356 2.52566C10.8314 1.91315 10.2582 1.5 9.61257 1.5H6.38743C5.74178 1.5 5.16857 1.91315 4.9644 2.52566L4.63962 3.5ZM5.69371 3.5L10.3063 3.5L10.0869 2.84189C10.0189 2.63771 9.82779 2.5 9.61257 2.5H6.38743C6.17221 2.5 5.98114 2.63771 5.91308 2.84189L5.69371 3.5ZM3.55863 4.5L12.4414 4.5L11.4908 13.0552C11.4627 13.3084 11.2486 13.5 10.9938 13.5H5.00615C4.75138 13.5 4.53735 13.3084 4.50921 13.0552L3.55863 4.5Z" fill="#6F6E6E"/>
    </svg>
  {%- endcapture -%}


  <button class="la-dn-open-drawer-button">Open Drawer Cart</button>
  <div class="la-dn-overlay visible">
    <div class="la-dn-drawer">
      <div class="la-dn-cart-header theme1">
        <svg class="la-dn-cart-header-cart-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M10 9L14 9" stroke="black" stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M9 6V5C9 3.34315 10.3431 2 12 2V2C13.6569 2 15 3.34315 15 5V6" stroke="black"/>
          <rect x="5" y="6" width="14" height="14" rx="1" stroke="black"/>
        </svg>
        <span class="la-dn-cart-header-cart-text">Your Cart</span>
        <div class="la-dn-cart-header-amount">3</div>
        <svg class="la-dn-cart-header-close-icon" tabindex="0" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M4 4L12 12" stroke="black" stroke-width="1.2" stroke-linecap="round"/>
            <path d="M12 4L4 12" stroke="black" stroke-width="1.2" stroke-linecap="round"/>
        </svg>
      </div>
      <div class="la-dn-cart-gift">
        <div class="la-dn-cart-gift-text-wrapper">
          <span class="la-dn-cart-gift-text active">{{ present-icon }} Free Gift on $99+</span>
          <span class="la-dn-cart-gift-text">{{ shipping-icon }} Free Shipping on $49+</span>
          <span class="la-dn-cart-gift-text">{{ discount-icon }} 100% Money Back Guarantee</span>
        </div>
        <div class="la-dn-cart-gift-carousel">
          <span class="la-dn-cart-gift-carousel-dot active"></span>
          <span class="la-dn-cart-gift-carousel-dot"></span>
          <span class="la-dn-cart-gift-carousel-dot"></span>
        </div>
      </div>
      <div class="la-dn-progress">
        <p class="la-dn-progress-disclaimer">Add <b>$20+</b> to get free gift</p>
        <div class="la-dn-progress-bar">
          <div class="la-dn-progress-bar-value" style="width: 45%;"></div>
        </div>
        <div class="la-dn-progres-tag-container">
          <div class="la-dn-progres-tag active">
            <div class="la-dn-progres-tag-circle">{{ tick-icon }}</div>
            <span class="la-dn-progres-tag-text">Free shipping</span>
          </div>
          <div class="la-dn-progres-tag">
            <div class="la-dn-progres-tag-circle">{{ tick-icon }}</div>
            <span class="la-dn-progres-tag-text">Free gift</span>
          </div>
        </div>
      </div>
      <div class="la-dn-product-container">
        <div class="la-dn-product">
          <div class="la-dn-product-image">
            <img src="{{ 'product1.png' | asset_url }}"
                 width="90"
                 height="90" />
            <div class="la-dn-product-image-badge">-15%</div>
          </div>
          <div class="la-dn-product-description">
             <div class="la-dn-product-description-wrapper">
              <div class="la-dn-product-description-header">
                <h3 class="la-dn-product-description-name">Bo IvyBo IvyBo IvyBo IvyBo IvyBo IvyBo IvyBo IvyBo IvyBo IvyBo IvyBo
                  IvyBo IvyBo IvyBo IvyBo IvyBo IvyBo IvyBo IvyBo IvyBo Ivy</h3>
                <span tabindex="0" class="la-dn-product-description-icon">{{ trash-icon }}</span>
              </div>
             </div>
            <h4 class="la-dn-product-description-variant">Color: Green</h4>
            <div class="la-dn-product-value">
              <quantity-input class="quantity la-dn-product-quantity">
                <button class="quantity__button no-js-hidden"
                        name="minus"
                        type="button">
                  <span class="visually-hidden">{{ 'products.product.quantity.decrease' | t: product: product.title | escape
                    }}</span>
                  {% render 'icon-minus' %}
                </button>
                <input class="quantity__input"
                       type="number"
                       name="quantity"
                       id="Quantity-{{ section.id }}"
                       min="1"
                       value="1"
                       form="{{ product_form_id }}">
                <button class="quantity__button no-js-hidden"
                        name="plus"
                        type="button">
                  <span class="visually-hidden">{{ 'products.product.quantity.increase' | t: product: product.title | escape
                    }}</span>
                  {% render 'icon-plus' %}
                </button>
              </quantity-input>
              <div class="la-dn-product-price">
                <div class="la-dn-product-price-discounted">$290.00</div>
                <div class="la-dn-product-price-full">$340.00</div>
              </div>
            </div>
            <div tabindex="0" class="la-dn-product-disclaimer">
              Upgrade to Subscription & Save 15%
            </div>
          </div>
        </div>
        <div class="la-dn-product">
          <div class="la-dn-product-image">
            <img src="{{ 'product2.png' | asset_url }}"
                 width="90"
                 height="90" />
            <div class="la-dn-product-image-badge hidden">-15%</div>
          </div>
          <div class="la-dn-product-description">
             <div class="la-dn-product-description-wrapper">
              <div class="la-dn-product-description-header">
                <h3 class="la-dn-product-description-name">Helix Multicolor Bag</h3>
                <span tabindex="0" class="la-dn-product-description-icon">{{ trash-icon }}</span>
              </div>
             </div>
            <h4 class="la-dn-product-description-variant">Color: Multicolor</h4>
            <div class="la-dn-product-value">
              <quantity-input class="quantity la-dn-product-quantity">
                <button class="quantity__button no-js-hidden"
                        name="minus"
                        type="button">
                  <span class="visually-hidden">{{ 'products.product.quantity.decrease' | t: product: product.title | escape
                    }}</span>
                  {% render 'icon-minus' %}
                </button>
                <input class="quantity__input"
                       type="number"
                       name="quantity"
                       id="Quantity-{{ section.id }}"
                       min="1"
                       value="1"
                       form="{{ product_form_id }}">
                <button class="quantity__button no-js-hidden"
                        name="plus"
                        type="button">
                  <span class="visually-hidden">{{ 'products.product.quantity.increase' | t: product: product.title | escape
                    }}</span>
                  {% render 'icon-plus' %}
                </button>
              </quantity-input>
              <div class="la-dn-product-price">
                <div class="la-dn-product-price-discounted">$470.00</div>
                <div class="la-dn-product-price-full">$500.00</div>
              </div>
            </div>
            <div tabindex="0" class="la-dn-product-disclaimer hidden">
              Upgrade to Subscription & Save 15%
            </div>
          </div>
        </div>
        <div class="la-dn-free-gift-container">
           <h3 class="la-dn-free-gift-header">Your free gift</h3>
           <div class="la-dn-product">
            <div class="la-dn-product-image">
              <img src="{{ 'product2.png' | asset_url }}"
                   width="90"
                   height="90" />
              <div class="la-dn-product-image-badge hidden">-15%</div>
            </div>
            <div class="la-dn-product-description">
               <div class="la-dn-product-description-wrapper">
                <div class="la-dn-product-description-header">
                  <h3 class="la-dn-product-description-name">Toning Botanical Mist</h3>
                  <span tabindex="0" class="la-dn-product-description-icon">{{ trash-icon }}</span>
                </div>
               </div>
              <h4 class="la-dn-product-description-variant">Rose Geranium</h4>
              <div class="la-dn-product-value">
                <div class="la-dn-product-free-with">
                  Free with purchase <br/>over $100
                </div>
                <div class="la-dn-product-price">
                  <div class="la-dn-product-price-discounted">FREE</div>
                  <div class="la-dn-product-price-full">$15.00</div>
                </div>
              </div>
              <div tabindex="0" class="la-dn-product-disclaimer hidden">
                Upgrade to Subscription & Save 15%
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>



<script>
  function adjustDrawerPosition() {
    const headerBottomPosition = document.querySelector("#shopify-section-header > sticky-header > header").getBoundingClientRect().bottom;
    document.querySelector('.la-dn-drawer').style.marginTop=`${headerBottomPosition + 2}px`;
  }

  function toggleCarouselText() {
    const textNodeArray = document.querySelector('.la-dn-cart-gift-text-wrapper').querySelectorAll('.la-dn-cart-gift-text');
    const dotNodeArray = document.querySelector('.la-dn-cart-gift-carousel').querySelectorAll('.la-dn-cart-gift-carousel-dot');
    let index = 0; 
    
    textNodeArray[index].classList.add('active');
    dotNodeArray[index].classList.add('active');

    setInterval(() => {
      textNodeArray[index].classList.remove('active');
      dotNodeArray[index].classList.remove('active');

      index += 1;
      if (index + 1 > textNodeArray.length) { index = 0 }
      
      textNodeArray[index].classList.add('active');
      dotNodeArray[index].classList.add('active');
    }, 1000)
  }
  
  document.querySelector('sticky-header header .header__icons').prepend(document.querySelector('.la-dn-wrapper[data-token="DRWRCRT"] .la-dn-open-drawer-button'));
  document.body.classList.add('drawer-cart-overlay');
  
  document.querySelector('.la-dn-cart-header').addEventListener('click', (event) => {
    document.querySelector('.la-dn-wrapper[data-token="DRWRCRT"] .la-dn-overlay').classList.remove('visible');
    document.body.classList.remove('drawer-cart-overlay')
  })

  document.querySelector('.la-dn-open-drawer-button').addEventListener('click', () => {
    document.querySelector('.la-dn-wrapper[data-token="DRWRCRT"] .la-dn-overlay').classList.add('visible');
    document.body.classList.add('drawer-cart-overlay')
  })
  // window.addEventListener('resize', () => adjustDrawerPosition())
  // window.addEventListener('scroll', () => adjustDrawerPosition())

  // adjustDrawerPosition()

  // toggleCarouselText();
</script>

